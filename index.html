<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUDDEN 수치 계산기 (Mobile Friendly)</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
            line-height: 1.6;
            padding: 15px;
            background-color: #f9f9f9;
            color: #333;
        }
        .calculator {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 30px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .calc-title {
            font-size: 1.4em;
            margin-top: 0;
            margin-bottom: 20px;
            font-weight: 600;
            color: #0056b3; /* Title color */
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        .section-title {
             font-size: 1.1em;
             font-weight: bold;
             margin-top: 25px;
             margin-bottom: 15px;
             color: #555;
        }
        .form-item {
            margin-bottom: 25px;
        }
        .form-item label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #444;
        }
        .form-item input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box; /* Important for 100% width */
            font-size: 1em;
            margin-bottom: 8px; /* Space between input and notes */
        }
        /* Input background colors */
        .input-yellow { background-color: #FFFFE0; }
        .input-blue   { background-color: #E6F0FF; }
        .input-orange { background-color: #FFF0E0; }

        .details {
            font-size: 0.9em;
            color: #555;
            background-color: #f0f0f0; /* Subtle background for details */
            padding: 10px;
            border-radius: 4px;
            border-left: 3px solid #ccc;
        }
        .details .notes-title,
        .details .example-title {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
            color: #333;
        }
        .details p {
            margin-top: 0;
            margin-bottom: 8px;
        }
        .details p:last-child {
             margin-bottom: 0;
        }
        .output-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px dashed #ccc;
        }
        .output-label {
            font-weight: bold;
            margin-bottom: 10px;
            display: block;
        }
        .output-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #007bff; /* Highlight color for result */
            background-color: #e9f5ff;
            padding: 15px;
            border-radius: 4px;
            text-align: center;
            min-height: 30px;
            word-wrap: break-word; /* Handle potential long numbers */
        }
        .output-details { /* Details specific to output */
             margin-top: 10px;
        }

        /* Optional: Larger screens can have side-by-side details */
        @media (min-width: 768px) {
             .form-item {
                 display: flex;
                 flex-wrap: wrap; /* Allow wrapping if needed */
                 align-items: flex-start; /* Align items to top */
             }
             .form-item label {
                 width: 200px; /* Fixed label width on desktop */
                 margin-bottom: 0; /* Remove bottom margin for label */
                 padding-right: 15px; /* Space between label and input */
                 box-sizing: border-box;
             }
             .input-wrapper {
                 flex: 1; /* Takes remaining space */
                 min-width: 150px; /* Prevent input getting too small */
                 margin-right: 15px; /* Space between input and details */
                 margin-bottom: 10px; /* Space below input if details wrap */
             }
              .form-item input[type="number"] {
                  margin-bottom: 0;
              }
             .details {
                 flex: 2; /* Takes more space for details */
                 min-width: 250px; /* Min width for details */
                 margin-top: 0; /* Align details with input */
                 background-color: transparent; /* Remove background on desktop? */
                 border-left: none;
                 padding: 5px 0 0 10px; /* Adjust padding */
                 border-left: 2px solid #eee;
             }
             .output-section {
                  display: flex;
                  align-items: center;
             }
             .output-label-wrapper {
                  width: 200px;
                  padding-right: 15px;
             }
             .output-value-wrapper {
                  flex: 1;
                  margin-right: 15px;
             }
             .output-details {
                  flex: 2;
                  margin-top: 0;
             }
        }

    </style>
</head>
<body>

    <div class="calculator">
        <h2 class="calc-title">서든 계산기 1</h2>

        <div class="overall-goal details" style="background-color: #eef; border-left-color: #99f; margin-bottom: 20px;">
             <span class="example-title">목표 예시</span>
             <p>LIFT 수치가 20일 때의 설상가단 EX의 SUDDEN 수치를 구하고자 합니다.</p>
        </div>

        <h3 class="section-title">입력 항목</h3>

        <div class="form-item">
            <label for="maxBpm">해당 곡의 최고 BPM</label>
            <div class="input-wrapper">
                <input type="number" id="maxBpm" class="input-yellow" oninput="calculateSudden1()">
            </div>
            <div class="details">
                <span class="notes-title">참고</span>
                <p>해당 곡의 최고 BPM 혹은 SUDDEN을 걸지 않을 구간의 BPM을 입력합니다. 이 항목에 해당 곡의 배속을 입력해도 무관하나, 이 항목에 BPM 대신 배속을 입력했다면 밑의 항목에도 배속을 입력해야 합니다.</p>
                <span class="example-title">사용예시</span>
                <p>설상가단의 최고 BPM은 180이므로 180을 입력합니다(혹은, 720 배속을 보는 유저라면 720을 입력해도 무관합니다. 단, 이 경우에는 밑의 항목에도 배속을 입력해야 합니다.)</p>
            </div>
        </div>

        <div class="form-item">
            <label for="suddenBpm">SUDDEN을 걸고자 하는 구간의 BPM</label>
            <div class="input-wrapper">
                <input type="number" id="suddenBpm" class="input-blue" oninput="calculateSudden1()">
            </div>
            <div class="details">
                <span class="notes-title">참고</span>
                <p>SUDDEN을 걸고자 하는 구간의 BPM을 입력합니다(대부분의 경우 최저 BPM). 이 항목에 해당 곡의 배속을 입력해도 무관하나, 이 항목에 BPM 대신 배속을 입력했다면 밑의 항목에도 배속을 입력해야 합니다.</p>
                <span class="example-title">사용예시</span>
                <p>설상가단의 저속 구간의 BPM은 105이므로 105를 입력합니다(위에서 720을 입력했다면 이 항목에 105 대신 420을 입력해야 합니다).</p>
            </div>
        </div>

        <div class="form-item">
            <label for="liftValue1">LIFT 수치</label>
            <div class="input-wrapper">
                <input type="number" id="liftValue1" class="input-orange" oninput="calculateSudden1()">
            </div>
            <div class="details">
                 <span class="notes-title">참고</span>
                 <p>LIFT 수치를 입력합니다.</p>
                 <span class="example-title">사용예시</span>
                 <p>LIFT 수치가 20이므로, 20을 입력합니다.</p>
            </div>
        </div>

        <div class="output-section">
             <div class="output-label-wrapper">
                  <span class="output-label">적정 SUDDEN 수치 (계산 결과 1)</span>
             </div>
             <div class="output-value-wrapper">
                  <div id="result1" class="output-value"></div>
             </div>
             <div class="details output-details">
                 <span class="notes-title">참고</span>
                 <p>BPM을 이용하여 계산한 결과입니다.</p>
                 <span class="example-title">사용예시</span>
                 <p>계산 결과로 -95가 나왔다면 올바르게 사용한 것입니다. SUDDEN 수치를 -95에 맞추고 게임을 플레이하면 됩니다.</p>
            </div>
        </div>
    </div>

    <div class="calculator">
        <h2 class="calc-title">서든 계산기 2</h2>

         <div class="overall-goal details" style="background-color: #eef; border-left-color: #99f; margin-bottom: 20px;">
             <span class="example-title">목표 예시</span>
             <p>LIFT를 사용하지 않았을 때 설상가단 EX의 SUDDEN 수치를 -95로 맞추고 플레이하는 유저가 LIFT 수치가 20일 때의 설상가단 EX의 SUDDEN 수치를 구하고자 합니다.</p>
        </div>

        <h3 class="section-title">입력 항목</h3>

        <div class="form-item">
            <label for="suddenAtLift0">LIFT 수치가 0일 때 사용했던 SUDDEN 수치</label>
             <div class="input-wrapper">
                <input type="number" id="suddenAtLift0" class="input-yellow" oninput="calculateSudden2()">
             </div>
            <div class="details">
                 <span class="notes-title">참고</span>
                 <p>LIFT 수치가 0일 때(LIFT 옵션이 OFF일 때) 사용했던 SUDDEN 수치를 입력합니다. 이때, 항상 음수값만을 입력해야 합니다.</p>
                 <span class="example-title">사용예시</span>
                 <p>LIFT를 사용하지 않았을 때의 SUDDEN 수치가 -95였으므로, -95를 입력합니다.</p>
            </div>
        </div>

        <div class="form-item">
            <label for="liftValue2">사용하고 있는 LIFT 수치</label>
            <div class="input-wrapper">
                <input type="number" id="liftValue2" class="input-blue" oninput="calculateSudden2()">
            </div>
            <div class="details">
                 <span class="notes-title">참고</span>
                 <p>현재 사용중인 LIFT 수치를 입력합니다.</p>
                 <span class="example-title">사용예시</span>
                 <p>LIFT 수치가 20이므로, 20을 입력합니다.</p>
            </div>
        </div>

         <div class="output-section">
              <div class="output-label-wrapper">
                   <span class="output-label">적정 SUDDEN 수치 (계산 결과 2)</span>
              </div>
              <div class="output-value-wrapper">
                   <div id="result2" class="output-value"></div>
              </div>
             <div class="details output-details">
                 <span class="notes-title">참고</span>
                 <p>LIFT 0일 때의 SUDDEN 수치를 이용하여 계산한 결과입니다.</p>
                 <span class="example-title">사용예시</span>
                 <p>계산 결과로 -102.8125가 나왔다면 올바르게 사용한 것입니다. SUDDEN 수치를 -103으로 맞추고 게임을 플레이하면 됩니다. (보통 소수점 버림)</p>
            </div>
        </div>
    </div>

    <script>
        function calculateSudden1() {
            const maxBpm = parseFloat(document.getElementById('maxBpm').value);
            const suddenBpm = parseFloat(document.getElementById('suddenBpm').value);
            const liftValue1 = parseFloat(document.getElementById('liftValue1').value);
            const resultCell = document.getElementById('result1');

            resultCell.textContent = ''; // Clear previous result or error
            if (isNaN(maxBpm) || isNaN(suddenBpm) || isNaN(liftValue1)) {
                 // Don't show error for empty inputs, just clear result
                return;
            }
            if (maxBpm === 0) {
                resultCell.textContent = '#DIV/0!';
                resultCell.style.color = 'red'; // Make error noticeable
                return;
            }
            // Formula: =(1-C4/C3)*(320-C5)-220
            const result = (1 - suddenBpm / maxBpm) * (320 - liftValue1) - 220;
            resultCell.style.color = '#007bff'; // Reset color for valid result
            resultCell.textContent = result.toFixed(4);
        }

        function calculateSudden2() {
            const suddenAtLift0 = parseFloat(document.getElementById('suddenAtLift0').value);
            const liftValue2 = parseFloat(document.getElementById('liftValue2').value);
            const resultCell = document.getElementById('result2');

             resultCell.textContent = ''; // Clear previous result or error
             if (isNaN(suddenAtLift0) || isNaN(liftValue2)) {
                // Don't show error for empty inputs, just clear result
                return;
            }
            // Formula: =(C9+220)*(320-C10)/320-220
            const result = (suddenAtLift0 + 220) * (320 - liftValue2) / 320 - 220;
            resultCell.style.color = '#007bff'; // Reset color
            resultCell.textContent = result.toFixed(4);
        }

        // Optional: Add event listeners instead of inline oninput for cleaner HTML
        // window.addEventListener('DOMContentLoaded', () => {
        //     document.getElementById('maxBpm').addEventListener('input', calculateSudden1);
        //     document.getElementById('suddenBpm').addEventListener('input', calculateSudden1);
        //     document.getElementById('liftValue1').addEventListener('input', calculateSudden1);
        //     document.getElementById('suddenAtLift0').addEventListener('input', calculateSudden2);
        //     document.getElementById('liftValue2').addEventListener('input', calculateSudden2);
        // });
    </script>

</body>
</html>
